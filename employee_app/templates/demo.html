<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <title>Request Leave</title>-->

<!--    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">-->
<!--    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>-->

<!--    <style>-->
<!--        body {-->
<!--            font-family: Arial, sans-serif;-->
<!--            margin: 20px;-->
<!--            padding: 0;-->
<!--        }-->
<!--        .container {-->
<!--            max-width: 600px;-->
<!--            margin: 0 auto;-->
<!--            padding: 20px;-->
<!--            border: 1px solid #ddd;-->
<!--            border-radius: 8px;-->
<!--            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);-->
<!--        }-->
<!--        h2 {-->
<!--            text-align: center;-->
<!--            margin-bottom: 20px;-->
<!--        }-->
<!--        label {-->
<!--            font-weight: bold;-->
<!--            display: block;-->
<!--            margin-top: 10px;-->
<!--        }-->
<!--        input, textarea, select {-->
<!--            width: 100%;-->
<!--            padding: 8px;-->
<!--            margin-top: 5px;-->
<!--            margin-bottom: 15px;-->
<!--            border: 1px solid #ddd;-->
<!--            border-radius: 4px;-->
<!--        }-->
<!--        button {-->
<!--            width: 100%;-->
<!--            padding: 10px;-->
<!--            background-color: #007BFF;-->
<!--            color: white;-->
<!--            border: none;-->
<!--            border-radius: 4px;-->
<!--            cursor: pointer;-->
<!--        }-->
<!--        button:hover {-->
<!--            background-color: #0056b3;-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--    <div class="container">-->
<!--        <h2>Request Leave</h2>-->
<!--        <form method="post">-->
<!--            <input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">-->

<!--            <div>-->
<!--                <label for="id_leave_type">Leave Type</label>-->
<!--                <select id="id_leave_type" name="leave_type">-->
<!--                    <option value="CL">Casual Leave</option>-->
<!--                    <option value="SL">Sick Leave</option>-->
<!--                    <option value="EL">Earned Leave</option>-->
<!--                    <option value="PL">Parental Leave</option>-->
<!--                    <option value="ML">Maternity Leave</option>-->
<!--                    <option value="UL">Unpaid Leave</option>-->
<!--                </select>-->
<!--            </div>-->

<!--            <div>-->
<!--                <label for="id_start_date">Start Date</label>-->
<!--                <input type="date" id="start_date" name="start_date">-->
<!--            </div>-->

<!--            <div>-->
<!--                <label for="id_end_date">End Date</label>-->
<!--                <input type="date" id="end_date" name="end_date">-->
<!--            </div>-->

<!--            <div>-->
<!--                <label for="id_reason">Reason</label>-->
<!--                <textarea id="id_reason" name="reason" rows="4"></textarea>-->
<!--            </div>-->

<!--            <button type="submit">Submit Request</button>-->
<!--        </form>-->
<!--    </div>-->

<!--    &lt;!&ndash; JSON data &ndash;&gt;-->
<!--    <script id="holidays-data" type="application/json">-->
<!--        {{ holidays|json_script:"holidays-data" }}-->
<!--    </script>-->
<!--    <script id="floating-holidays-data" type="application/json">-->
<!--        {{ floating_holidays|json_script:"floating-holidays-data" }}-->
<!--    </script>-->
<!--    <script id="weekends-data" type="application/json">-->
<!--        {{ weekends|json_script:"weekends-data" }}-->
<!--    </script>-->

<!--   <script>-->
<!--    document.addEventListener('DOMContentLoaded', function () {-->
<!--        // Parse JSON data safely from <script> tags-->
<!--        const holidays = JSON.parse(document.getElementById('holidays-data').textContent);-->
<!--        const floatingHolidays = JSON.parse(document.getElementById('floating-holidays-data').textContent);-->
<!--        const weekends = JSON.parse(document.getElementById('weekends-data').textContent);-->

<!--        // Debugging: Log the parsed data to console-->
<!--        console.log('Holidays:', holidays);-->
<!--        console.log('Floating Holidays:', floatingHolidays);-->
<!--        console.log('Weekends:', weekends);-->

<!--        function highlightDates(date, element) {-->
<!--            const dateStr = date.toISOString().split('T')[0];  // Convert to 'YYYY-MM-DD'-->

<!--            // Debugging: Log the current date being checked-->
<!--            console.log('Checking date:', dateStr);-->

<!--            // Highlight holidays, floating holidays, and weekends-->
<!--            if (holidays.includes(dateStr)) {-->
<!--                element.style.backgroundColor = "lightblue";-->
<!--                element.style.borderRadius = "50%";-->
<!--            } else if (floatingHolidays.includes(dateStr)) {-->
<!--                element.style.backgroundColor = "lightorange";-->
<!--                element.style.borderRadius = "50%";-->
<!--            } else if (weekends.includes(dateStr)) {-->
<!--                element.style.backgroundColor = "lightgrey";-->
<!--                element.style.borderRadius = "50%";-->
<!--            }-->
<!--        }-->

<!--        // Initialize Flatpickr for Start Date-->
<!--        flatpickr("#start_date", {-->
<!--            dateFormat: "Y-m-d",-->
<!--            onDayCreate: function (dObj, dStr, fp, dayElem) {-->
<!--                highlightDates(dObj, dayElem);  // Pass the actual date object-->
<!--            }-->
<!--        });-->

<!--        // Initialize Flatpickr for End Date-->
<!--        flatpickr("#end_date", {-->
<!--            dateFormat: "Y-m-d",-->
<!--            onDayCreate: function (dObj, dStr, fp, dayElem) {-->
<!--                highlightDates(dObj, dayElem);  // Pass the actual date object-->
<!--            }-->
<!--        });-->
<!--    });-->
<!--</script>-->

<!--</body>-->
<!--</html>-->




<!--<h3>Holidays</h3>-->
<!--<ul>-->
<!--  {% for holiday in holidays %}-->
<!--    <li>{{ holiday }}</li>-->
<!--  {% endfor %}-->
<!--</ul>-->

<!--<h3>Floating Holidays</h3>-->
<!--<ul>-->
<!--  {% for floating_holiday in floating_holidays %}-->
<!--    <li>{{ floating_holiday }}</li>-->
<!--  {% endfor %}-->
<!--</ul>-->

<!--<h3>Weekends</h3>-->
<!--<ul>-->
<!--  {% for weekend in weekends %}-->
<!--    <li>{{ weekend }}</li>-->
<!--  {% endfor %}-->
<!--</ul>-->




<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <title>Request Leave</title>-->

<!--    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">-->
<!--    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>-->

<!--    <style>-->
<!--        body {-->
<!--            font-family: Arial, sans-serif;-->
<!--            margin: 20px;-->
<!--            padding: 0;-->
<!--        }-->
<!--        .container {-->
<!--            max-width: 600px;-->
<!--            margin: 0 auto;-->
<!--            padding: 20px;-->
<!--            border: 1px solid #ddd;-->
<!--            border-radius: 8px;-->
<!--            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);-->
<!--        }-->
<!--        h2 {-->
<!--            text-align: center;-->
<!--            margin-bottom: 20px;-->
<!--        }-->
<!--        label {-->
<!--            font-weight: bold;-->
<!--            display: block;-->
<!--            margin-top: 10px;-->
<!--        }-->
<!--        input, textarea, select {-->
<!--            width: 100%;-->
<!--            padding: 8px;-->
<!--            margin-top: 5px;-->
<!--            margin-bottom: 15px;-->
<!--            border: 1px solid #ddd;-->
<!--            border-radius: 4px;-->
<!--        }-->
<!--        button {-->
<!--            width: 100%;-->
<!--            padding: 10px;-->
<!--            background-color: #007BFF;-->
<!--            color: white;-->
<!--            border: none;-->
<!--            border-radius: 4px;-->
<!--            cursor: pointer;-->
<!--        }-->
<!--        button:hover {-->
<!--            background-color: #0056b3;-->
<!--        }-->
<!--        /* Custom styles for highlighted dates */-->
<!--        .holiday {-->
<!--            background-color: lightblue !important;-->
<!--            border-radius: 50%;-->
<!--        }-->
<!--        .floating-holiday {-->
<!--            background-color: lightcoral !important;-->
<!--            border-radius: 50%;-->
<!--        }-->
<!--        .weekend {-->
<!--            background-color: lightgray !important;-->
<!--            border-radius: 50%;-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--    <div class="container">-->
<!--        <h2>Request Leave</h2>-->
<!--        <form method="post">-->
<!--            <input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">-->

<!--            <div>-->
<!--                <label for="id_leave_type">Leave Type</label>-->
<!--                <select id="id_leave_type" name="leave_type">-->
<!--                    <option value="CL">Casual Leave</option>-->
<!--                    <option value="SL">Sick Leave</option>-->
<!--                    <option value="EL">Earned Leave</option>-->
<!--                    <option value="PL">Parental Leave</option>-->
<!--                    <option value="ML">Maternity Leave</option>-->
<!--                    <option value="UL">Unpaid Leave</option>-->
<!--                </select>-->
<!--            </div>-->

<!--            <div>-->
<!--                <label for="id_start_date">Start Date</label>-->
<!--                <input type="text" id="start_date" name="start_date">-->
<!--            </div>-->

<!--            <div>-->
<!--                <label for="id_end_date">End Date</label>-->
<!--                <input type="text" id="end_date" name="end_date">-->
<!--            </div>-->

<!--            <div>-->
<!--                <label for="id_reason">Reason</label>-->
<!--                <textarea id="id_reason" name="reason" rows="4"></textarea>-->
<!--            </div>-->

<!--            <button type="submit">Submit Request</button>-->
<!--        </form>-->
<!--    </div>-->

<!--    &lt;!&ndash; JSON data &ndash;&gt;-->
<!--    <script id="holidays-data" type="application/json">-->
<!--        {{ holidays|json_script:"holidays-data" }}-->
<!--    </script>-->
<!--    <script id="floating-holidays-data" type="application/json">-->
<!--        {{ floating_holidays|json_script:"floating-holidays-data" }}-->
<!--    </script>-->
<!--    <script id="weekends-data" type="application/json">-->
<!--        {{ weekends|json_script:"weekends-data" }}-->
<!--    </script>-->

<!--   <script>-->
<!--    document.addEventListener('DOMContentLoaded', function () {-->
<!--        // Parse JSON data safely from <script> tags-->
<!--        const holidays = JSON.parse(document.getElementById('holidays-data').textContent);-->
<!--        const floatingHolidays = JSON.parse(document.getElementById('floating-holidays-data').textContent);-->
<!--        const weekends = JSON.parse(document.getElementById('weekends-data').textContent);-->

<!--        // Debugging: Log the parsed data to console-->
<!--        console.log('Holidays:', holidays);-->
<!--        console.log('Floating Holidays:', floatingHolidays);-->
<!--        console.log('Weekends:', weekends);-->

<!--        // Function to highlight dates-->
<!--        function highlightDates(date, element) {-->
<!--            const dateStr = date.toISOString().split('T')[0];  // Convert to 'YYYY-MM-DD'-->

<!--            // Debugging: Log the current date being checked-->
<!--            console.log('Checking date:', dateStr);-->

<!--            // Highlight holidays, floating holidays, and weekends-->
<!--            if (holidays.includes(dateStr)) {-->
<!--                element.classList.add('holiday');-->
<!--            } else if (floatingHolidays.includes(dateStr)) {-->
<!--                element.classList.add('floating-holiday');-->
<!--            } else if (weekends.includes(dateStr)) {-->
<!--                element.classList.add('weekend');-->
<!--            }-->
<!--        }-->

<!--        // Initialize Flatpickr for Start Date-->
<!--        flatpickr("#start_date", {-->
<!--            dateFormat: "Y-m-d",-->
<!--            onDayCreate: function (dObj, dStr, fp, dayElem) {-->
<!--                highlightDates(dObj, dayElem);  // Pass the actual date object-->
<!--            }-->
<!--        });-->

<!--        // Initialize Flatpickr for End Date-->
<!--        flatpickr("#end_date", {-->
<!--            dateFormat: "Y-m-d",-->
<!--            onDayCreate: function (dObj, dStr, fp, dayElem) {-->
<!--                highlightDates(dObj, dayElem);  // Pass the actual date object-->
<!--            }-->
<!--        });-->
<!--    });-->
<!--</script>-->

<!--</body>-->
<!--</html>-->



<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <title>Request Leave</title>-->

<!--    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">-->
<!--    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>-->

<!--    <style>-->
<!--        body {-->
<!--            font-family: Arial, sans-serif;-->
<!--            margin: 20px;-->
<!--            padding: 0;-->
<!--        }-->
<!--        .container {-->
<!--            max-width: 600px;-->
<!--            margin: 0 auto;-->
<!--            padding: 20px;-->
<!--            border: 1px solid #ddd;-->
<!--            border-radius: 8px;-->
<!--            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);-->
<!--        }-->
<!--        h2 {-->
<!--            text-align: center;-->
<!--            margin-bottom: 20px;-->
<!--        }-->
<!--        label {-->
<!--            font-weight: bold;-->
<!--            display: block;-->
<!--            margin-top: 10px;-->
<!--        }-->
<!--        input, textarea, select {-->
<!--            width: 100%;-->
<!--            padding: 8px;-->
<!--            margin-top: 5px;-->
<!--            margin-bottom: 15px;-->
<!--            border: 1px solid #ddd;-->
<!--            border-radius: 4px;-->
<!--        }-->
<!--        button {-->
<!--            width: 100%;-->
<!--            padding: 10px;-->
<!--            background-color: #007BFF;-->
<!--            color: white;-->
<!--            border: none;-->
<!--            border-radius: 4px;-->
<!--            cursor: pointer;-->
<!--        }-->
<!--        button:hover {-->
<!--            background-color: #0056b3;-->
<!--        }-->
<!--        /* Custom styles for highlighted dates */-->
<!--        .holiday {-->
<!--            background-color: lightblue !important;-->
<!--            border-radius: 50%;-->
<!--        }-->
<!--        .floating-holiday {-->
<!--            background-color: lightcoral !important;-->
<!--            border-radius: 50%;-->
<!--        }-->
<!--        .weekend {-->
<!--            background-color: lightgray !important;-->
<!--            border-radius: 50%;-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--    <div class="container">-->
<!--        <h2>Request Leave</h2>-->
<!--        <form method="post">-->
<!--            <input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">-->

<!--            <div>-->
<!--                <label for="id_leave_type">Leave Type</label>-->
<!--                <select id="id_leave_type" name="leave_type">-->
<!--                    <option value="CL">Casual Leave</option>-->
<!--                    <option value="SL">Sick Leave</option>-->
<!--                    <option value="EL">Earned Leave</option>-->
<!--                    <option value="PL">Parental Leave</option>-->
<!--                    <option value="ML">Maternity Leave</option>-->
<!--                    <option value="UL">Unpaid Leave</option>-->
<!--                </select>-->
<!--            </div>-->

<!--            <div>-->
<!--                <label for="id_start_date">Start Date</label>-->
<!--                <input type="date" id="start_date" name="start_date">-->
<!--            </div>-->

<!--            <div>-->
<!--                <label for="id_end_date">End Date</label>-->
<!--                <input type="date" id="end_date" name="end_date">-->
<!--            </div>-->

<!--            <div>-->
<!--                <label for="id_reason">Reason</label>-->
<!--                <textarea id="id_reason" name="reason" rows="4"></textarea>-->
<!--            </div>-->

<!--            <button type="submit">Submit Request</button>-->
<!--        </form>-->
<!--    </div>-->

<!--&lt;!&ndash;     JSON data &ndash;&gt;-->
<!--  <script id="holidays-data" type="application/json">-->
<!--    ["2025-01-01", "2025-04-14", "2025-04-18", "2025-05-01", "2025-08-15", "2025-09-05", "2025-10-02", "2025-12-25"]-->
<!--</script>-->

<!--<script id="floating-holidays-data" type="application/json">-->
<!--    ["2025-02-26", "2025-03-14", "2025-03-01", "2025-04-06", "2025-06-06"]-->
<!--</script>-->

<!--<script id="weekends-data" type="application/json">-->
<!--    ["2025-01-04", "2025-01-05", "2025-01-11", "2025-01-12", "2025-01-18", "2025-01-19", "2025-01-25", "2025-01-26"]-->
<!--</script>-->


<!--   <script>-->
<!--    document.addEventListener('DOMContentLoaded', function () {-->
<!--        // Parse JSON data safely from <script> tags-->
<!--        const holidays = JSON.parse(document.getElementById('holidays-data').textContent);-->
<!--        const floatingHolidays = JSON.parse(document.getElementById('floating-holidays-data').textContent);-->
<!--        const weekends = JSON.parse(document.getElementById('weekends-data').textContent);-->

<!--        // Function to highlight dates-->
<!--        function highlightDates(date, element) {-->
<!--            const dateStr = date.toISOString().split('T')[0];  // Convert to 'YYYY-MM-DD'-->

<!--            // Highlight holidays, floating holidays, and weekends-->
<!--            if (holidays.includes(dateStr)) {-->
<!--                element.classList.add('holiday');-->
<!--            } else if (floatingHolidays.includes(dateStr)) {-->
<!--                element.classList.add('floating-holiday');-->
<!--            } else if (weekends.includes(dateStr)) {-->
<!--                element.classList.add('weekend');-->
<!--            }-->
<!--        }-->

<!--        // Initialize Flatpickr for Start Date-->
<!--        flatpickr("#start_date", {-->
<!--            dateFormat: "Y-m-d",-->
<!--            onDayCreate: function (dObj, dStr, fp, dayElem) {-->
<!--                highlightDates(dObj, dayElem);  // Pass the actual date object-->
<!--            }-->
<!--        });-->

<!--        // Initialize Flatpickr for End Date-->
<!--        flatpickr("#end_date", {-->
<!--            dateFormat: "Y-m-d",-->
<!--            onDayCreate: function (dObj, dStr, fp, dayElem) {-->
<!--                highlightDates(dObj, dayElem);  // Pass the actual date object-->
<!--            }-->
<!--        });-->
<!--    });-->
<!--</script>-->

<!--</body>-->
<!--</html>-->




<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <title>Request Leave</title>-->

<!--    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">-->
<!--    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>-->

<!--    <style>-->
<!--        body {-->
<!--            font-family: Arial, sans-serif;-->
<!--            margin: 20px;-->
<!--            padding: 0;-->
<!--        }-->
<!--        .container {-->
<!--            max-width: 600px;-->
<!--            margin: 0 auto;-->
<!--            padding: 20px;-->
<!--            border: 1px solid #ddd;-->
<!--            border-radius: 8px;-->
<!--            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);-->
<!--        }-->
<!--        h2 {-->
<!--            text-align: center;-->
<!--            margin-bottom: 20px;-->
<!--        }-->
<!--        label {-->
<!--            font-weight: bold;-->
<!--            display: block;-->
<!--            margin-top: 10px;-->
<!--        }-->
<!--        input, textarea, select {-->
<!--            width: 100%;-->
<!--            padding: 8px;-->
<!--            margin-top: 5px;-->
<!--            margin-bottom: 15px;-->
<!--            border: 1px solid #ddd;-->
<!--            border-radius: 4px;-->
<!--        }-->
<!--        button {-->
<!--            width: 100%;-->
<!--            padding: 10px;-->
<!--            background-color: #007BFF;-->
<!--            color: white;-->
<!--            border: none;-->
<!--            border-radius: 4px;-->
<!--            cursor: pointer;-->
<!--        }-->
<!--        button:hover {-->
<!--            background-color: #0056b3;-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--    <div class="container">-->
<!--        <h2>Request Leave</h2>-->
<!--        <form method="post">-->
<!--            <input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">-->

<!--            <div>-->
<!--                <label for="id_leave_type">Leave Type</label>-->
<!--                <select id="id_leave_type" name="leave_type">-->
<!--                    <option value="CL">Casual Leave</option>-->
<!--                    <option value="SL">Sick Leave</option>-->
<!--                    <option value="EL">Earned Leave</option>-->
<!--                    <option value="PL">Parental Leave</option>-->
<!--                    <option value="ML">Maternity Leave</option>-->
<!--                    <option value="UL">Unpaid Leave</option>-->
<!--                </select>-->
<!--            </div>-->

<!--            <div>-->
<!--                <label for="start_date">Start Date</label>-->
<!--                <input type="date" id="start_date" name="start_date">-->
<!--            </div>-->

<!--            <div>-->
<!--                <label for="end_date">End Date</label>-->
<!--                <input type="date" id="end_date" name="end_date">-->
<!--            </div>-->

<!--            <div>-->
<!--                <label for="id_reason">Reason</label>-->
<!--                <textarea id="id_reason" name="reason" rows="4"></textarea>-->
<!--            </div>-->

<!--            <button type="submit">Submit Request</button>-->
<!--        </form>-->
<!--    </div>-->

<!--    &lt;!&ndash; JSON data &ndash;&gt;-->
<!--    <script id="holidays-data" type="application/json">-->
<!--        ["2025-01-01", "2025-04-14", "2025-04-18", "2025-05-01", "2025-08-15", "2025-09-05", "2025-10-02", "2025-12-25"]-->
<!--    </script>-->

<!--    <script id="floating-holidays-data" type="application/json">-->
<!--        ["2025-02-26", "2025-03-14", "2025-03-01", "2025-04-06", "2025-06-06"]-->
<!--    </script>-->

<!--    <script id="weekends-data" type="application/json">-->
<!--        ["2025-01-04", "2025-01-05", "2025-01-11", "2025-01-12", "2025-01-18", "2025-01-19", "2025-01-25", "2025-01-26"]-->
<!--    </script>-->
<!--&lt;!&ndash;    <script id="weekends-data" type="application/json">&ndash;&gt;-->
<!--&lt;!&ndash;        {{ weekends|safe }}  &lt;!&ndash; Use the passed weekends data from the view &ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;    </script>&ndash;&gt;-->

<!--<script>-->

<!--   document.addEventListener('DOMContentLoaded', function () {-->
<!--    // Parse holiday, floating holiday, and weekend data-->
<!--    const holidays = JSON.parse(document.getElementById('holidays-data').textContent);-->
<!--    const floatingHolidays = JSON.parse(document.getElementById('floating-holidays-data').textContent);-->
<!--    const weekends = JSON.parse(document.getElementById('weekends-data').textContent);-->

<!--    function highlightDates(date, element) {-->
<!--        // Convert the dayElem date to a proper date string-->
<!--        const dateStr = date.toLocaleDateString("en-CA"); // Format as 'YYYY-MM-DD'-->

<!--        if (holidays.includes(dateStr)) {-->
<!--            element.style.backgroundColor = "lightblue";-->
<!--            element.style.borderRadius = "50%";-->
<!--        } else if (floatingHolidays.includes(dateStr)) {-->
<!--            element.style.backgroundColor = "lightorange";-->
<!--            element.style.borderRadius = "50%";-->
<!--        } else if (weekends.includes(dateStr)) {-->
<!--            element.style.backgroundColor = "lightgrey";-->
<!--            element.style.borderRadius = "50%";-->
<!--        }-->
<!--    }-->

<!--    // Initialize Flatpickr-->
<!--    flatpickr("#start_date", {-->
<!--        dateFormat: "Y-m-d",-->
<!--        onDayCreate: function (dObj, dStr, fp, dayElem) {-->
<!--            // Make sure dayElem contains a valid date-->
<!--            const date = fp.parseDate(dayElem.dateObj, "Y-m-d");-->
<!--            if (date) {-->
<!--                highlightDates(date, dayElem);-->
<!--            }-->
<!--        }-->
<!--    });-->

<!--    flatpickr("#end_date", {-->
<!--        dateFormat: "Y-m-d",-->
<!--        onDayCreate: function (dObj, dStr, fp, dayElem) {-->
<!--            // Make sure dayElem contains a valid date-->
<!--            const date = fp.parseDate(dayElem.dateObj, "Y-m-d");-->
<!--            if (date) {-->
<!--                highlightDates(date, dayElem);-->
<!--            }-->
<!--        }-->
<!--    });-->
<!--});-->








<!--</script>-->



<!--</body>-->
<!--</html>-->




<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <title>Request Leave</title>-->

<!--    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">-->
<!--    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>-->

<!--    <style>-->
<!--        body {-->
<!--            font-family: Arial, sans-serif;-->
<!--            margin: 20px;-->
<!--            padding: 0;-->
<!--        }-->
<!--        .container {-->
<!--            max-width: 600px;-->
<!--            margin: 0 auto;-->
<!--            padding: 20px;-->
<!--            border: 1px solid #ddd;-->
<!--            border-radius: 8px;-->
<!--            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);-->
<!--        }-->
<!--        h2 {-->
<!--            text-align: center;-->
<!--            margin-bottom: 20px;-->
<!--        }-->
<!--        label {-->
<!--            font-weight: bold;-->
<!--            display: block;-->
<!--            margin-top: 10px;-->
<!--        }-->
<!--        input, textarea, select {-->
<!--            width: 100%;-->
<!--            padding: 8px;-->
<!--            margin-top: 5px;-->
<!--            margin-bottom: 15px;-->
<!--            border: 1px solid #ddd;-->
<!--            border-radius: 4px;-->
<!--        }-->
<!--        button {-->
<!--            width: 100%;-->
<!--            padding: 10px;-->
<!--            background-color: #007BFF;-->
<!--            color: white;-->
<!--            border: none;-->
<!--            border-radius: 4px;-->
<!--            cursor: pointer;-->
<!--        }-->
<!--        button:hover {-->
<!--            background-color: #0056b3;-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--    <div class="container">-->
<!--        <h2>Request Leave</h2>-->
<!--        <form method="post">-->
<!--            <input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">-->

<!--            <div>-->
<!--                <label for="id_leave_type">Leave Type</label>-->
<!--                <select id="id_leave_type" name="leave_type">-->
<!--                    <option value="CL">Casual Leave</option>-->
<!--                    <option value="SL">Sick Leave</option>-->
<!--                    <option value="EL">Earned Leave</option>-->
<!--                    <option value="PL">Parental Leave</option>-->
<!--                    <option value="ML">Maternity Leave</option>-->
<!--                    <option value="UL">Unpaid Leave</option>-->
<!--                </select>-->
<!--            </div>-->

<!--            <div>-->
<!--                <label for="start_date">Start Date</label>-->
<!--                <input type="date" id="start_date" name="start_date">-->
<!--            </div>-->

<!--            <div>-->
<!--                <label for="end_date">End Date</label>-->
<!--                <input type="date" id="end_date" name="end_date">-->
<!--            </div>-->

<!--            <div>-->
<!--                <label for="id_reason">Reason</label>-->
<!--                <textarea id="id_reason" name="reason" rows="4"></textarea>-->
<!--            </div>-->

<!--            <button type="submit">Submit Request</button>-->
<!--        </form>-->
<!--    </div>-->

<!--    &lt;!&ndash; JSON data &ndash;&gt;-->
<!--    <script id="holidays-data" type="application/json">-->
<!--        ["2025-01-01", "2025-04-14", "2025-04-18", "2025-05-01", "2025-08-15", "2025-09-05", "2025-10-02", "2025-12-25"]-->
<!--    </script>-->

<!--    <script id="floating-holidays-data" type="application/json">-->
<!--        ["2025-02-26", "2025-03-14", "2025-03-01", "2025-04-06", "2025-06-06"]-->
<!--    </script>-->

<!--<script>-->
<!--   document.addEventListener('DOMContentLoaded', function () {-->
<!--    // Parse holiday, floating holiday, and weekend data-->
<!--    const holidays = JSON.parse(document.getElementById('holidays-data').textContent);-->
<!--    const floatingHolidays = JSON.parse(document.getElementById('floating-holidays-data').textContent);-->

<!--    // Function to calculate all Saturdays and Sundays for a year-->
<!--    function getAllWeekends(year) {-->
<!--        const weekends = [];-->
<!--        let date = new Date(year, 0, 1); // Start from the first day of the year-->

<!--        // Loop through all days of the year-->
<!--        while (date.getFullYear() === year) {-->
<!--            // If the day is Saturday (6) or Sunday (0)-->
<!--            if (date.getDay() === 6 || date.getDay() === 0) {-->
<!--                const weekendStr = date.toISOString().split('T')[0]; // Format as 'YYYY-MM-DD'-->
<!--                weekends.push(weekendStr);-->
<!--            }-->
<!--            // Move to the next day-->
<!--            date.setDate(date.getDate() + 1);-->
<!--        }-->
<!--        return weekends;-->
<!--    }-->

<!--    // Calculate weekends for the year 2025-->
<!--    const weekends = getAllWeekends(2025);-->

<!--    // Helper function to highlight dates-->
<!--    function highlightDates(date, element) {-->
<!--        const dateStr = date.toLocaleDateString("en-CA"); // Format as 'YYYY-MM-DD'-->

<!--        // Highlight holidays-->
<!--        if (holidays.includes(dateStr)) {-->
<!--            element.style.backgroundColor = "lightblue";-->
<!--            element.style.borderRadius = "50%";-->
<!--        }-->
<!--        // Highlight floating holidays-->
<!--        else if (floatingHolidays.includes(dateStr)) {-->
<!--            element.style.backgroundColor = "lightorange";-->
<!--            element.style.borderRadius = "50%";-->
<!--        }-->
<!--        // Highlight weekends (Saturdays and Sundays) in light grey-->
<!--        else if (weekends.includes(dateStr)) {-->
<!--            element.style.backgroundColor = "lightgrey";  // Highlight weekends with light grey-->
<!--            element.style.borderRadius = "50%";-->
<!--        }-->
<!--    }-->

<!--    // Initialize Flatpickr for start_date and end_date fields-->
<!--    flatpickr("#start_date", {-->
<!--        dateFormat: "Y-m-d",-->
<!--        onDayCreate: function (dObj, dStr, fp, dayElem) {-->
<!--            const date = fp.parseDate(dayElem.dateObj, "Y-m-d");-->
<!--            if (date) {-->
<!--                highlightDates(date, dayElem);-->
<!--            }-->
<!--        }-->
<!--    });-->

<!--    flatpickr("#end_date", {-->
<!--        dateFormat: "Y-m-d",-->
<!--        onDayCreate: function (dObj, dStr, fp, dayElem) {-->
<!--            const date = fp.parseDate(dayElem.dateObj, "Y-m-d");-->
<!--            if (date) {-->
<!--                highlightDates(date, dayElem);-->
<!--            }-->
<!--        }-->
<!--    });-->
<!--});-->
<!--</script>-->

<!--</body>-->
<!--</html>-->




<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Request Leave</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        h2 {
            text-align: center;
            margin-bottom: 20px;
        }
        label {
            font-weight: bold;
            display: block;
            margin-top: 10px;
        }
        input, textarea, select {
            width: 100%;
            padding: 8px;
            margin-top: 5px;
            margin-bottom: 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        button {
            width: 100%;
            padding: 10px;
            background-color: #007BFF;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        button:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>Request Leave</h2>
        <form method="post">
            <input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">

            <div>
                <label for="id_leave_type">Leave Type</label>
                <select id="id_leave_type" name="leave_type">
                    <option value="CL">Casual Leave</option>
                    <option value="SL">Sick Leave</option>
                    <option value="EL">Earned Leave</option>
                    <option value="PL">Parental Leave</option>
                    <option value="ML">Maternity Leave</option>
                    <option value="UL">Unpaid Leave</option>
                </select>
            </div>

            <div>
                <label for="start_date">Start Date</label>
                <input type="text" id="start_date" name="start_date">
            </div>

            <div>
                <label for="end_date">End Date</label>
                <input type="text" id="end_date" name="end_date">
            </div>

            <div>
                <label for="id_reason">Reason</label>
                <textarea id="id_reason" name="reason" rows="4"></textarea>
            </div>

            <button type="submit">Submit Request</button>
        </form>
    </div>

    <!-- JSON data -->
    <script id="holidays-data" type="application/json">
        ["2025-01-01", "2025-04-14", "2025-04-18", "2025-05-01", "2025-08-15", "2025-09-05", "2025-10-02", "2025-12-25"]
    </script>

    <script id="floating-holidays-data" type="application/json">
        ["2025-02-26", "2025-03-14", "2025-03-01", "2025-04-06", "2025-06-06"]
    </script>

    <script id="weekends-data" type="application/json">
        {{ weekends|safe }}  <!-- This will pass the weekends data from the view -->
    </script>

<script>
document.addEventListener('DOMContentLoaded', function () {
    // Get raw JSON data from the HTML
    const holidaysRawData = document.getElementById('holidays-data').textContent;
    const floatingHolidaysRawData = document.getElementById('floating-holidays-data').textContent;
    const weekendsRawData = document.getElementById('weekends-data').textContent;

    // Log the raw JSON data to inspect if it's formatted correctly
    console.log('Holidays raw data:', holidaysRawData);
    console.log('Floating Holidays raw data:', floatingHolidaysRawData);
    console.log('Weekends raw data:', weekendsRawData);

    try {
        // Parse the JSON data
        const holidays = JSON.parse(holidaysRawData);
        const floatingHolidays = JSON.parse(floatingHolidaysRawData);
        const weekends = JSON.parse(weekendsRawData);

        // Log parsed data for further inspection
        console.log('Parsed Holidays:', holidays);
        console.log('Parsed Floating Holidays:', floatingHolidays);
        console.log('Parsed Weekends:', weekends);

        // Function to highlight dates
        function highlightDates(date, element) {
            const dateStr = date.toLocaleDateString("en-CA"); // Format as 'YYYY-MM-DD'

            if (holidays.includes(dateStr)) {
                element.style.backgroundColor = "lightblue";
                element.style.borderRadius = "50%";
            } else if (floatingHolidays.includes(dateStr)) {
                element.style.backgroundColor = "lightcoral";  // Corrected color for floating holidays
                element.style.borderRadius = "50%";
            } else if (weekends.includes(dateStr)) {
                element.style.backgroundColor = "lightgrey";  // Light grey for weekends (Saturdays and Sundays)
                element.style.borderRadius = "50%";
            }
        }

        // Initialize Flatpickr for start date
        flatpickr("#start_date", {
            dateFormat: "Y-m-d",
            onDayCreate: function (dObj, dStr, fp, dayElem) {
                const date = fp.parseDate(dayElem.dateObj, "Y-m-d");
                if (date) {
                    highlightDates(date, dayElem);
                }
            },
            disable: [ // Disable past dates (optional)
                function(date) {
                    return date < new Date(); // Disable past dates
                }
            ]
        });

        // Initialize Flatpickr for end date
        flatpickr("#end_date", {
            dateFormat: "Y-m-d",
            onDayCreate: function (dObj, dStr, fp, dayElem) {
                const date = fp.parseDate(dayElem.dateObj, "Y-m-d");
                if (date) {
                    highlightDates(date, dayElem);
                }
            },
            disable: [ // Disable past dates (optional)
                function(date) {
                    return date < new Date(); // Disable past dates
                }
            ]
        });

    } catch (error) {
        // Log any errors related to JSON parsing
        console.error('Error parsing JSON:', error);
    }
});
</script>


</body>
</html>
